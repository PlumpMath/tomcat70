<html><head><META http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Apache Tomcat 7 (7.0.28-dev) - Proxy가 어떤 것을 제공하는 지</title><meta name="author" content="Craig R. McClanahan"><style type="text/css" media="print">
            .noPrint {display: none;}
            td#mainBody {width: 100%;}
        </style><style type="text/css">
            code {background-color:rgb(224,255,255);padding:0 0.1em;}
            code.attributeName, code.propertyName {background-color:transparent;}
        </style></head><body bgcolor="#ffffff" text="#000000" link="#525D76" alink="#525D76" vlink="#525D76"><table border="0" width="100%" cellspacing="0"><!--PAGE HEADER--><tr><td><!--PROJECT LOGO--><a href="http://tomcat.apache.org/"><img src="./images/tomcat.gif" align="right" alt="
      The Apache Tomcat Servlet/JSP Container
    " border="0"></a></td><td><h1><font face="arial,helvetica,sanserif">Apache Tomcat 7</font></h1><font face="arial,helvetica,sanserif">Version 7.0.28-dev, Jun 27 2013</font></td><td><!--APACHE LOGO--><a href="http://www.apache.org/"><img src="./images/asf-logo.gif" align="right" alt="Apache Logo" border="0"></a></td></tr></table><table border="0" width="100%" cellspacing="4"><!--HEADER SEPARATOR--><tr><td colspan="2"><hr noshade size="1"></td></tr><tr><!--LEFT SIDE NAVIGATION--><td width="20%" valign="top" nowrap class="noPrint"><p><strong>Links</strong></p><ul><li><a href="index.html">Docs Home</a></li><li><a href="http://wiki.apache.org/tomcat/FAQ">FAQ</a></li></ul><p><strong>User Guide</strong></p><ul><li><a href="introduction.html">1) Introduction</a></li><li><a href="setup.html">2) Setup</a></li><li><a href="appdev/index.html">3) First webapp</a></li><li><a href="deployer-howto.html">4) Deployer</a></li><li><a href="manager-howto.html">5) Manager</a></li><li><a href="realm-howto.html">6) Realms and AAA</a></li><li><a href="security-manager-howto.html">7) Security Manager</a></li><li><a href="jndi-resources-howto.html">8) JNDI Resources</a></li><li><a href="jndi-datasource-examples-howto.html">9) JDBC DataSources</a></li><li><a href="class-loader-howto.html">10) Classloading</a></li><li><a href="jasper-howto.html">11) JSPs</a></li><li><a href="ssl-howto.html">12) SSL</a></li><li><a href="ssi-howto.html">13) SSI</a></li><li><a href="cgi-howto.html">14) CGI</a></li><li><a href="proxy-howto.html">15) Proxy Support</a></li><li><a href="mbeans-descriptor-howto.html">16) MBean Descriptor</a></li><li><a href="default-servlet.html">17) Default Servlet</a></li><li><a href="cluster-howto.html">18) Clustering</a></li><li><a href="balancer-howto.html">19) Load Balancer</a></li><li><a href="connectors.html">20) Connectors</a></li><li><a href="monitoring.html">21) Monitoring and Management</a></li><li><a href="logging.html">22) Logging</a></li><li><a href="apr.html">23) APR/Native</a></li><li><a href="virtual-hosting-howto.html">24) Virtual Hosting</a></li><li><a href="aio.html">25) Advanced IO</a></li><li><a href="extras.html">26) Additional Components</a></li><li><a href="maven-jars.html">27) Mavenized</a></li><li><a href="security-howto.html">28) Security Considerations</a></li><li><a href="windows-service-howto.html">29) Windows Service</a></li><li><a href="windows-auth-howto.html">30) Windows Authentication</a></li><li><a href="jdbc-pool.html">31) Tomcat's JDBC Pool</a></li><li><a href="web-socket-howto.html">32) WebSocket</a></li></ul><p><strong>Reference</strong></p><ul><li><a href="RELEASE-NOTES.txt">Release Notes</a></li><li><a href="config/index.html">Configuration</a></li><li><a href="api/index.html">Tomcat Javadocs</a></li><li><a href="servletapi/index.html">Servlet Javadocs</a></li><li><a href="jspapi/index.html">JSP 2.2 Javadocs</a></li><li><a href="elapi/index.html">EL 2.2 Javadocs</a></li><li><a href="http://tomcat.apache.org/connectors-doc/">JK 1.2 Documentation</a></li></ul><p><strong>Apache Tomcat Development</strong></p><ul><li><a href="building.html">Building</a></li><li><a href="changelog.html">Changelog</a></li><li><a href="http://wiki.apache.org/tomcat/TomcatVersions">Status</a></li><li><a href="developers.html">Developers</a></li><li><a href="architecture/index.html">Architecture</a></li><li><a href="funcspecs/index.html">Functional Specs.</a></li></ul></td><!--RIGHT SIDE MAIN BODY--><td width="80%" valign="top" align="left" id="mainBody"><h1>Proxy가 어떤 것을 제공하는 지</h1><table border="0" cellspacing="0" cellpadding="2"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Table of Contents"><!--()--></a><a name="Table_of_Contents"><strong>Table of Contents</strong></a></font></td></tr><tr><td><blockquote>
<ul><li><a href="#Introduction">Introduction</a></li><li><a href="#Apache_1.3_Proxy_Support">Apache 1.3 Proxy Support</a></li><li><a href="#Apache_2.0_Proxy_Support">Apache 2.0 Proxy Support</a></li></ul>
</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Introduction"><strong>Introduction</strong></a></font></td></tr><tr><td><blockquote>

<p>톰캣의 표준 구성을 사용하여, 서버 이름과 포트 번호 요청 처리에 대한 응용 프로그램을 요청할 수 있다.  톰캣은 독립적으로 실행된다.
<a href="config/coyote.html">Coyote HTTP/1.1 Connector</a>, 일반적인 요청으로 지정된 서버 이름 및 커넥터가 수신하는 포트 번호를 입력 받을 때 servlet API는 아래와 같은 목적을 위해 호출 된다.</p>
<ul>
<li><code>ServletRequest.getServerName()</code>: 서버의 호스트 네임을 반환.</li>
<li><code>ServletRequest.getServerPort()</code>: 서버의 호스트 네임을 반환.</li>
<li><code>ServletRequest.getLocalName()</code>: 수신 된 IP의 인터페이스를 반환.</li>
<li><code>ServletRequest.getLocalPort()</code>: 수신 된 IP의 인터페이스를 반환.</li>
</ul>

<p> 당신이 프록시 서버 뒤에 실행하는 경우(또는 프록시 서버처럼 동작되는 웹 서버), 이러한 호출에 의해 반환 된 값을 관리하는 것을 수월하게 할 수 있다.  특히, 커넥터 자체의 것이 아닌 일반적인 요청에 반영할 수 있도록 포트 번호를 얻을 수 있다. ProxyName와 ProxyPort 속성을 사용할 수 있다.</p>

<p>Proxy는 다양한 형태를 제공한다.  몇가지 일반적인 프록시 구성을 다음 섹션에서 설명하도록 한다.</p>

</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Apache 1.3 Proxy Support"><!--()--></a><a name="Apache_1.3_Proxy_Support"><strong>Apache 1.3 Proxy Support</strong></a></font></td></tr><tr><td><blockquote>

<p>Apache 1.3는 웹 서버가 프록시 서버로 작동하도록 옵션 모듈을 제공한다. 톰캣 함수에 특정 웹 응용 프로그램에 대해 같은 웹 커넥터를 구성할 필요없이, 이 요청을 전달하는데 사용할 수 있다. 
이 작업을 수행하려면 다음과 같은 작업을 수행하여야 한다.</p>
<ol>
<li>모듈을 포함할 수 있도록 아파치의 복사본을 구성한다.  소스를 만들 경우 가장 쉬운 방법은 지시문을 포함하는 것이다.</li>
<li>추가하지 않을 경우, 다음과 같은 소스를 사용하여 아파치 시작 모듈을 로드되어 있는지 확인하여야 한다.<code>httpd.conf</code> file:
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>
LoadModule proxy_module  {path-to-modules}/mod_proxy.so
AddModule  mod_proxy.c
</pre></td><td bgcolor="#023264" width="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div></li>
<li>  예를 들어 문맥 경로에 응용프로그램을 전달하는 경우에는 Tomcat에 전달하고자 하는 각 응용 프로그램의 파일에서 두 개의 지시문을 더한다. <code>/myapp</code>:
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>
ProxyPass         /myapp  http://localhost:8081/myapp
ProxyPassReverse  /myapp  http://localhost:8081/myapp
</pre></td><td bgcolor="#023264" width="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
&nbsp;&nbsp;&nbsp;&nbsp;Tomcat 커넥터가 포트 8081에서 수신할 수 있도록 아파치에 다가 URL을 알려준다 .</li>
<li>적절한 프록시 설정을 통해 특별한 속성을 같는 Tomcat의 복사본을 구성한다. 예를 들어:
<div align="left"><table cellspacing="4" cellpadding="0" border="0"><tr><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#ffffff" height="1"><pre>
&lt;Connector port="8081" ...
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyName="www.mycompany.com"
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proxyPort="80"/&gt;
</pre></td><td bgcolor="#023264" width="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr><tr><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td><td bgcolor="#023264" width="1" height="1"><img src="./images/void.gif" alt="" width="1" height="1" vspace="0" hspace="0" border="0"></td></tr></table></div>
&nbsp;&nbsp;&nbsp;&nbsp;이 어플리캐이션 내에서 서블릿은 포트 80에 모든 프록시 요청을 한다.</li>
<li> proxyName 속성을 생략할 수 있다.  만약 Tomcat이 실행되고 있으면 주소는 반환될 수 있다.  위의 예시는 로컬 호스트를 나타낸다.</li>
<li>포트 8080에서 수신 커넥터가 있는 경우 (중첩되는 속성), 포트에 가상 주소 및 어플리케이션을 공유한다.</li>
<li>포트 8081에 연결을 제한하는 운영체제 IP필터링 기능을 사용하려면  오직 아파치 서버에서만 실행하여야 한다.</li>
<li>다음과 같이, 프록시를 통해서 에플리케이션 종류를 설정할 수 있다  
&nbsp;&nbsp;&nbsp;&nbsp;<ul>
&nbsp;&nbsp;&nbsp;&nbsp;<li> 프록시 포트를 위한 전용 커넥터를 포함하는 다른 종류로 구성된다.</li>
&nbsp;&nbsp;&nbsp;&nbsp;<li>적절한 주소 구성<a href="config/engine.html">Engine</a>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="config/host.html"></a>, 그리고
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="config/context.html">문맥</a> 프록시를 통해 액세스 할 수 있는 가상 주소 및 어플리케이션을 구성해야 한다.</li>
&nbsp;&nbsp;&nbsp;&nbsp;<li>앞에서 설명한대로 IP필터와 포트8081을 선택하라.</li>
&nbsp;&nbsp;&nbsp;&nbsp;</ul></li>
<li>아파치에서 프록시를 요청할 경우, 웹 서버는 액세스 로그에 이 요청을 기록한다.  따라서 Tomcat이 자체적으로 액세스를 해제한다.</li>
</ol>

<p>프록시 방법이 요청이 있을 경우, <strong>all</strong> 구성된 어플리케이션에 대한 요청은 Tomcat에서 처리된다. (정적 콘텐츠에 대한 요청 포함).  아래와 같은 것을 사용하여 성능을 향상시킬 수 있다.
<code>mod_jk</code> 웹 커넥터 대신 proxy 모드를 통해, 웹 서버가 어플리케이션의 배포자를 통해 구성된 정적 콘텐츠를 처리할 수 있도록 제공해 준다.
(<code>/WEB-INF/web.xml</code>).</p>

</blockquote></td></tr></table><table border="0" cellspacing="0" cellpadding="2"><tr><td bgcolor="#525D76"><font color="#ffffff" face="arial,helvetica.sanserif"><a name="Apache 2.0 Proxy Support"><!--()--></a><a name="Apache_2.0_Proxy_Support"><strong>Apache 2.0 Proxy Support</strong></a></font></td></tr><tr><td><blockquote>
같은 방법을 쓸 수 있는 1.3이 있다. (Apache 2.0에서 생략할 수 있다.<code>AddModule  mod_proxy.c</code>)
</blockquote></td></tr></table></td></tr><!--FOOTER SEPARATOR--><tr><td colspan="2"><hr noshade size="1"></td></tr><!--PAGE FOOTER--><tr><td colspan="2"><div align="center"><font color="#525D76" size="-1"><em>
        Copyright &copy; 1999-2013, Apache Software Foundation
        </em></font></div></td></tr></table></body></html>